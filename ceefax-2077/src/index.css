@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   THEME ENGINE: CSS VARIABLES
   Runtime-switchable color system
   ============================================ */

:root {
  /* Primary colors - Default Classic Theme */
  --color-primary: #0000FF;
  --color-secondary: #FFFF00;
  --color-accent: #00FFFF;
  
  /* Backgrounds */
  --color-bg-primary: #000000;
  --color-bg-secondary: #0000FF;
  --color-bg-accent: #111111;
  
  /* Text colors */
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #FFFF00;
  --color-text-accent: #00FFFF;
  --color-text-warning: #FFFF00;
  --color-text-danger: #FF0000;
  --color-text-success: #00FF00;
  
  /* UI elements */
  --color-border: #00FFFF;
  --color-glow: rgba(0, 255, 255, 0.5);
  --color-shadow: rgba(0, 0, 0, 0.9);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  background-color: var(--color-bg-primary);
  overflow: hidden;
  font-family: 'VT323', monospace;
  text-transform: uppercase;
  line-height: 1;
  letter-spacing: 0;
}

/* ============================================
   AUTHENTIC TELETEXT VISUAL SYSTEM
   Based on BBC Ceefax, TRT TelegÃ¼n, NOS
   ============================================ */

/* Main Screen Container */
.teletext-screen {
  width: 100vw;
  height: 100vh;
  background-color: #000000;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* CRT Container - 4:3 Aspect Ratio - Large and Immersive */
.teletext-container {
  height: 92vh;
  width: calc(92vh * 4 / 3); /* Maintain 4:3 aspect ratio */
  max-width: 98vw; /* Prevent horizontal overflow */
  background-color: #000000;
  display: flex;
  flex-direction: column;
  border: 4px solid #333;
  box-shadow: 
    0 0 40px rgba(0, 255, 255, 0.3),
    inset 0 0 120px rgba(0, 0, 0, 0.9);
  position: relative;
}

/* Adjust if width constraint is hit */
@media (max-aspect-ratio: 4/3) {
  .teletext-container {
    width: 98vw;
    height: calc(98vw * 3 / 4);
    max-height: 92vh;
  }
}

/* ============================================
   HEADER ROW - The Blue Strip
   ============================================ */

.teletext-header-row {
  background-color: var(--color-bg-secondary);
  display: grid;
  grid-template-columns: 1fr 2fr 2fr;
  align-items: center;
  padding: 0.3rem 0.8rem;
  min-height: 8%;
  border-bottom: 2px solid var(--color-bg-primary);
}

.teletext-header-left {
  color: var(--color-text-primary);
  font-size: clamp(18px, 2.5vmin, 28px);
  font-weight: bold;
  text-align: left;
}

.teletext-header-center {
  text-align: center;
  color: var(--color-text-secondary);
  font-size: clamp(20px, 2.8vmin, 32px);
  font-weight: bold;
}

.teletext-header-right {
  color: var(--color-text-secondary);
  font-size: clamp(16px, 2.2vmin, 24px);
  text-align: right;
  font-weight: bold;
}

/* Double Height Text Effect */
.double-height {
  display: inline-block;
  transform: scaleY(2);
  transform-origin: center;
  line-height: 0.5;
}

/* ============================================
   MAIN CONTENT AREA
   ============================================ */

.teletext-main-content {
  flex: 1;
  background-color: #000000;
  overflow: hidden;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
}

/* ============================================
   FASTEXT FOOTER - 4 Colored Bars
   ============================================ */

.teletext-fastext-footer {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  min-height: 6%;
  border-top: 2px solid #000000;
}

.teletext-fastext-footer > div {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(14px, 2vmin, 20px);
  font-weight: bold;
  padding: 0.4rem 0.2rem;
  text-align: center;
}

.fastext-red {
  background-color: #FF0000;
  color: #FFFFFF;
}

.fastext-green {
  background-color: #00FF00;
  color: #000000;
}

.fastext-yellow {
  background-color: #FFFF00;
  color: #000000;
}

.fastext-cyan {
  background-color: #00FFFF;
  color: #000000;
}

.fastext-magenta {
  background-color: #FF00FF;
  color: #FFFFFF;
}

/* CRT Scanlines Overlay */
.crt-scanlines {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.1),
    rgba(0, 0, 0, 0.1) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
  z-index: 1000;
}


/* Glitch Animation for Page 666 */
@keyframes glitch {
  0% {
    transform: translate(0);
  }
  20% {
    transform: translate(-2px, 2px);
  }
  40% {
    transform: translate(-2px, -2px);
  }
  60% {
    transform: translate(2px, 2px);
  }
  80% {
    transform: translate(2px, -2px);
  }
  100% {
    transform: translate(0);
  }
}

.glitch-effect {
  animation: glitch 0.3s infinite;
}

/* Pulse animation for warnings */
@keyframes pulse-red {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}


/* ============================================
   PHASE 5: HORROR EFFECTS FOR PAGE 666
   ============================================ */

/* Screen Tearing Effect */
@keyframes tear {
  0% {
    transform: translateX(0);
  }
  10% {
    transform: translateX(-5px);
  }
  20% {
    transform: translateX(5px);
  }
  30% {
    transform: translateX(-3px);
  }
  40% {
    transform: translateX(3px);
  }
  50% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(0);
  }
}

/* Background Static Noise */
@keyframes noise {
  0%, 100% {
    background-position: 0 0;
  }
  10% {
    background-position: -5% -10%;
  }
  20% {
    background-position: -15% 5%;
  }
  30% {
    background-position: 7% -25%;
  }
  40% {
    background-position: 20% 25%;
  }
  50% {
    background-position: -25% 10%;
  }
  60% {
    background-position: 15% 5%;
  }
  70% {
    background-position: 0 15%;
  }
  80% {
    background-position: 25% 35%;
  }
  90% {
    background-position: -10% 10%;
  }
}

/* Red Alert Pulsing */
@keyframes red-alert {
  0%, 100% {
    background-color: #000000;
  }
  50% {
    background-color: #330000;
  }
}

/* Intense Red Pulse */
@keyframes red-pulse-intense {
  0%, 100% {
    background-color: #000000;
    box-shadow: inset 0 0 50px rgba(255, 0, 0, 0.3);
  }
  25% {
    background-color: #220000;
    box-shadow: inset 0 0 80px rgba(255, 0, 0, 0.5);
  }
  50% {
    background-color: #440000;
    box-shadow: inset 0 0 100px rgba(255, 0, 0, 0.7);
  }
  75% {
    background-color: #220000;
    box-shadow: inset 0 0 80px rgba(255, 0, 0, 0.5);
  }
}

/* Glitch Text Effect - RGB Split */
.glitch-text {
  position: relative;
  animation: glitch-skew 1s infinite;
}

.glitch-text::before,
.glitch-text::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.glitch-text::before {
  left: 2px;
  text-shadow: -2px 0 #ff00ff;
  clip: rect(44px, 450px, 56px, 0);
  animation: glitch-anim 5s infinite linear alternate-reverse;
}

.glitch-text::after {
  left: -2px;
  text-shadow: -2px 0 #00ffff, 2px 2px #ff00ff;
  animation: glitch-anim2 1s infinite linear alternate-reverse;
}

@keyframes glitch-anim {
  0% {
    clip: rect(10px, 9999px, 31px, 0);
    transform: skew(0.5deg);
  }
  5% {
    clip: rect(70px, 9999px, 71px, 0);
    transform: skew(0.1deg);
  }
  10% {
    clip: rect(60px, 9999px, 95px, 0);
    transform: skew(0.8deg);
  }
  15% {
    clip: rect(80px, 9999px, 15px, 0);
    transform: skew(0.3deg);
  }
  20% {
    clip: rect(40px, 9999px, 66px, 0);
    transform: skew(0.6deg);
  }
  100% {
    clip: rect(25px, 9999px, 99px, 0);
    transform: skew(0.4deg);
  }
}

@keyframes glitch-anim2 {
  0% {
    clip: rect(65px, 9999px, 119px, 0);
    transform: skew(0.7deg);
  }
  5% {
    clip: rect(25px, 9999px, 90px, 0);
    transform: skew(0.2deg);
  }
  10% {
    clip: rect(50px, 9999px, 60px, 0);
    transform: skew(0.9deg);
  }
  100% {
    clip: rect(95px, 9999px, 15px, 0);
    transform: skew(0.5deg);
  }
}

@keyframes glitch-skew {
  0% {
    transform: skew(0deg);
  }
  10% {
    transform: skew(-2deg);
  }
  20% {
    transform: skew(2deg);
  }
  30% {
    transform: skew(-1deg);
  }
  40% {
    transform: skew(1deg);
  }
  50% {
    transform: skew(0deg);
  }
  100% {
    transform: skew(0deg);
  }
}

/* Screen Shake */
.screen-shake {
  animation: shake 0.2s infinite;
}

@keyframes shake {
  0%, 100% {
    transform: translate(0, 0) rotate(0deg);
  }
  10% {
    transform: translate(-2px, -2px) rotate(-0.5deg);
  }
  20% {
    transform: translate(2px, 2px) rotate(0.5deg);
  }
  30% {
    transform: translate(-2px, 2px) rotate(-0.5deg);
  }
  40% {
    transform: translate(2px, -2px) rotate(0.5deg);
  }
  50% {
    transform: translate(-2px, -2px) rotate(-0.5deg);
  }
  60% {
    transform: translate(2px, 2px) rotate(0.5deg);
  }
  70% {
    transform: translate(-2px, 2px) rotate(-0.5deg);
  }
  80% {
    transform: translate(2px, -2px) rotate(0.5deg);
  }
  90% {
    transform: translate(-2px, -2px) rotate(-0.5deg);
  }
}

/* Corrupted Grid Effect */
.corrupted-grid {
  animation: tear 0.5s infinite, red-alert 1s infinite;
}

/* Static Noise Background */
.noise-bg {
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(255, 0, 0, 0.03) 2px,
      rgba(255, 0, 0, 0.03) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(255, 0, 0, 0.03) 2px,
      rgba(255, 0, 0, 0.03) 4px
    );
  animation: noise 0.2s infinite;
}

/* Distorted Text */
.distorted-text {
  text-shadow: 
    2px 0 #ff0000,
    -2px 0 #00ffff,
    0 2px #ff00ff;
  animation: glitch-skew 0.3s infinite;
}

/* Flicker Effect */
.flicker {
  animation: flicker-animation 0.1s infinite;
}

@keyframes flicker-animation {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
  }
}

/* Inverted Colors */
.inverted {
  filter: invert(1) hue-rotate(180deg);
}

/* Scan Line Intensified */
.scan-lines-intense::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(255, 0, 0, 0.1),
    rgba(255, 0, 0, 0.1) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
  z-index: 1000;
  animation: scan-line-move 8s linear infinite;
}

@keyframes scan-line-move {
  0% {
    transform: translateY(0);
  }
  100% {
    transform: translateY(100%);
  }
}


/* ============================================
   TEXT VISIBILITY FIX
   ============================================ */

/* Ensure all text is visible with proper colors */
.text-teletext-white {
  color: #FFFFFF !important;
  text-shadow: 0 0 2px rgba(255, 255, 255, 0.5);
}

.text-teletext-cyan {
  color: #00FFFF !important;
  text-shadow: 0 0 2px rgba(0, 255, 255, 0.5);
}

.text-teletext-yellow {
  color: #FFFF00 !important;
  text-shadow: 0 0 2px rgba(255, 255, 0, 0.5);
}

.text-teletext-red {
  color: #FF0000 !important;
  text-shadow: 0 0 2px rgba(255, 0, 0, 0.5);
}

.text-teletext-green {
  color: #00FF00 !important;
  text-shadow: 0 0 2px rgba(0, 255, 0, 0.5);
}

.text-teletext-blue {
  color: #0000FF !important;
  text-shadow: 0 0 2px rgba(0, 0, 255, 0.5);
}

.text-teletext-magenta {
  color: #FF00FF !important;
  text-shadow: 0 0 2px rgba(255, 0, 255, 0.5);
}

/* Background colors */
.bg-teletext-black {
  background-color: #000000 !important;
}

.bg-teletext-white {
  background-color: #FFFFFF !important;
}

.bg-teletext-cyan {
  background-color: #00FFFF !important;
}

.bg-teletext-yellow {
  background-color: #FFFF00 !important;
}

.bg-teletext-red {
  background-color: #FF0000 !important;
}

.bg-teletext-green {
  background-color: #00FF00 !important;
}

.bg-teletext-blue {
  background-color: #0000FF !important;
}

.bg-teletext-magenta {
  background-color: #FF00FF !important;
}

/* Ensure text in teletext content is always visible */
.teletext-content * {
  opacity: 1 !important;
}


/* ============================================
   PAGE LAYOUT STYLES
   ============================================ */

.teletext-page {
  width: 100%;
  height: 100%;
  padding: 1rem 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

/* Title Banner - Blue Background with Double-Height Text */
.teletext-title-banner {
  background-color: #0000FF;
  color: #FFFF00;
  text-align: center;
  padding: 0.5rem;
  font-size: clamp(24px, 3.5vmin, 40px);
  font-weight: bold;
  border: 2px solid #FFFF00;
}

/* Subtitle */
.teletext-subtitle {
  color: #00FFFF;
  text-align: center;
  font-size: clamp(16px, 2.2vmin, 22px);
  font-weight: bold;
  padding: 0.3rem;
}

/* Index Grid - Two Columns */
.teletext-index-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  flex: 1;
  font-size: clamp(14px, 2vmin, 20px);
  line-height: 1.4;
}

.teletext-index-column {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
}

/* Instructions */
.teletext-instructions {
  text-align: center;
  font-size: clamp(14px, 1.8vmin, 18px);
  padding: 0.5rem;
  border-top: 2px solid #00FFFF;
  border-bottom: 2px solid #00FFFF;
}

.teletext-instructions p {
  margin: 0.2rem 0;
}

/* Bottom Banner */
.teletext-bottom-banner {
  background-color: #0000FF;
  color: #FFFF00;
  text-align: center;
  padding: 0.5rem;
  font-size: clamp(14px, 2vmin, 20px);
  font-weight: bold;
}

/* ============================================
   TEXT COLOR UTILITIES
   ============================================ */

.text-white {
  color: #FFFFFF !important;
}

.text-yellow {
  color: #FFFF00 !important;
}

.text-cyan {
  color: #00FFFF !important;
}

.text-green {
  color: #00FF00 !important;
}

.text-red {
  color: #FF0000 !important;
}

.text-blue {
  color: #0000FF !important;
}

.text-magenta {
  color: #FF00FF !important;
}

/* Background Color Utilities */
.bg-blue {
  background-color: #0000FF !important;
}

.bg-yellow {
  background-color: #FFFF00 !important;
}

.bg-cyan {
  background-color: #00FFFF !important;
}

.bg-green {
  background-color: #00FF00 !important;
}

.bg-red {
  background-color: #FF0000 !important;
}

.bg-magenta {
  background-color: #FF00FF !important;
}

.bg-white {
  background-color: #FFFFFF !important;
}

.bg-black {
  background-color: #000000 !important;
}


/* ============================================
   NEWS PAGE STYLES - Larger, Readable Text
   ============================================ */

.teletext-news-content {
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem 0;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.teletext-news-item {
  border-bottom: 2px solid #00FFFF;
  padding-bottom: 0.8rem;
}

.teletext-news-headline {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 0.5rem;
  font-size: clamp(18px, 2.5vmin, 26px);
  font-weight: bold;
  line-height: 1.3;
}

.teletext-page-ref {
  font-size: clamp(16px, 2.2vmin, 24px);
  margin-left: 1rem;
  flex-shrink: 0;
}

.teletext-news-body {
  font-size: clamp(16px, 2.2vmin, 24px);
  line-height: 1.4;
  margin-bottom: 0.5rem;
}

.teletext-news-body p {
  margin: 0.2rem 0;
}

.teletext-news-ending {
  font-size: clamp(15px, 2vmin, 22px);
  font-style: italic;
  margin-top: 0.3rem;
}

/* Loading State */
.teletext-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  font-size: clamp(20px, 3vmin, 32px);
  color: #00FFFF;
}


/* ============================================
   NEWS DETAIL PAGE STYLES
   ============================================ */

.teletext-detail-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 0.5rem 0;
}

.teletext-detail-body {
  font-size: clamp(18px, 2.5vmin, 26px);
  line-height: 1.5;
}

.teletext-detail-body p {
  margin: 0.5rem 0;
}

.teletext-detail-related {
  border-top: 2px solid #00FFFF;
  padding-top: 1rem;
  font-size: clamp(16px, 2.2vmin, 24px);
  line-height: 1.4;
}

.teletext-detail-related p {
  margin: 0.3rem 0;
}

.teletext-detail-verified {
  background-color: #FF0000;
  color: #FFFFFF;
  padding: 1rem;
  text-align: center;
  font-size: clamp(16px, 2.2vmin, 24px);
  font-weight: bold;
}

.teletext-detail-verified p {
  margin: 0.3rem 0;
}


/* ============================================
   DEVOPS / SYSTEM STATUS STYLES
   ============================================ */

/* Status Box on Index */
.teletext-status-box {
  background-color: #000000;
  border: 2px solid #00FFFF;
  padding: 1rem;
  text-align: center;
  font-size: clamp(16px, 2.2vmin, 24px);
  margin: 1rem 0;
}

.teletext-status-box p {
  margin: 0.3rem 0;
}

/* Alert Banner */
.teletext-alert {
  padding: 0.8rem;
  text-align: center;
  font-size: clamp(18px, 2.5vmin, 26px);
  font-weight: bold;
  margin-bottom: 1rem;
}

.teletext-alert-safe {
  background-color: #00FF00;
  color: #000000;
}

.teletext-alert-warning {
  background-color: #FFFF00;
  color: #000000;
}

.teletext-alert-critical {
  background-color: #FF0000;
  color: #FFFFFF;
}

.teletext-alert-emergency {
  background-color: #FF0000;
  color: #FFFFFF;
  animation: pulse-red 1s infinite;
}

/* Metrics Display */
.teletext-metrics {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  margin: 1rem 0;
}

.teletext-metric-row {
  display: grid;
  grid-template-columns: 150px 1fr;
  gap: 1rem;
  align-items: center;
  font-size: clamp(16px, 2.2vmin, 24px);
}

.teletext-metric-label {
  font-weight: bold;
}

.teletext-metric-bar {
  font-family: monospace;
  letter-spacing: -2px;
}

/* Status Grid */
.teletext-status-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
  margin: 1rem 0;
  font-size: clamp(15px, 2vmin, 22px);
}

.teletext-status-item {
  border: 1px solid #00FFFF;
  padding: 0.8rem;
  text-align: center;
}

.teletext-status-item p {
  margin: 0.3rem 0;
}

/* Recommendations */
.teletext-recommendations {
  background-color: #000000;
  border: 2px solid #FFFF00;
  padding: 1rem;
  margin: 1rem 0;
  font-size: clamp(15px, 2vmin, 22px);
}

.teletext-recommendations p {
  margin: 0.3rem 0;
}

/* Refresh Indicator */
.teletext-refresh {
  text-align: center;
  font-size: clamp(14px, 1.8vmin, 20px);
  padding: 0.5rem;
  border-top: 1px solid #00FFFF;
  margin-top: auto;
}


/* ============================================
   MASTER INDEX - 9 ZONES GRID
   ============================================ */

.teletext-master-index {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin: 1rem 0;
  flex: 1;
}

.zone-block {
  border: 2px solid #00FFFF;
  padding: 1rem;
  text-align: center;
  background-color: #000000;
  transition: all 0.2s;
}

.zone-block:hover {
  background-color: #111111;
  border-color: #FFFF00;
}

.zone-title {
  font-size: clamp(18px, 2.5vmin, 26px);
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.zone-desc {
  font-size: clamp(14px, 1.8vmin, 20px);
  opacity: 0.8;
}

.teletext-special-access {
  text-align: center;
  padding: 1rem;
  border: 2px solid #FF0000;
  margin: 1rem 0;
  font-size: clamp(16px, 2.2vmin, 24px);
  animation: pulse-red 2s infinite;
}


/* ============================================
   ANGEL NUMBERS - HIDDEN HORROR FEATURES
   ============================================ */

/* 777: GHOST WRITER */
.ghost-story-content {
  flex: 1;
  padding: 2rem;
  font-size: clamp(16px, 2.2vmin, 24px);
  line-height: 1.6;
  transition: opacity 0.5s;
}

.ghost-story-line {
  margin: 0.3rem 0;
  min-height: 1.6em;
}

.ghost-story-choices {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding: 1rem 2rem;
}

.ghost-choice {
  background-color: #000000;
  color: #FFFF00;
  border: 2px solid #FFFF00;
  padding: 1rem;
  font-family: 'VT323', monospace;
  font-size: clamp(16px, 2.2vmin, 24px);
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.2s;
}

.ghost-choice:hover {
  background-color: #FFFF00;
  color: #000000;
  transform: scale(1.02);
}

.ghost-choice-a {
  border-color: #00FF00;
  color: #00FF00;
}

.ghost-choice-a:hover {
  background-color: #00FF00;
  color: #000000;
}

.ghost-choice-b {
  border-color: #FF0000;
  color: #FF0000;
}

.ghost-choice-b:hover {
  background-color: #FF0000;
  color: #FFFFFF;
}

.fade-in {
  opacity: 1;
}

.fade-out {
  opacity: 0;
}

/* 333: THE OUIJA */
.ouija-question-box {
  display: flex;
  gap: 1rem;
  padding: 1rem 2rem;
  align-items: center;
}

.ouija-input {
  flex: 1;
  background-color: #000000;
  color: #FF00FF;
  border: 2px solid #FF00FF;
  padding: 0.8rem;
  font-family: 'VT323', monospace;
  font-size: clamp(16px, 2.2vmin, 24px);
  text-transform: uppercase;
}

.ouija-input::placeholder {
  color: #FF00FF;
  opacity: 0.5;
}

.ouija-ask-button {
  background-color: #FF00FF;
  color: #000000;
  border: none;
  padding: 0.8rem 2rem;
  font-family: 'VT323', monospace;
  font-size: clamp(16px, 2.2vmin, 24px);
  font-weight: bold;
  cursor: pointer;
  transition: all 0.2s;
}

.ouija-ask-button:hover {
  background-color: #FFFFFF;
  transform: scale(1.05);
}

.ouija-board {
  display: grid;
  grid-template-columns: repeat(13, 1fr);
  gap: 0.3rem;
  padding: 1rem 2rem;
  margin: 1rem 0;
}

.ouija-letter {
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #FF00FF;
  color: #FFFFFF;
  font-size: clamp(14px, 2vmin, 22px);
  font-weight: bold;
  transition: all 0.3s;
}

.ouija-letter-active {
  background-color: #FF00FF;
  color: #000000;
  transform: scale(1.3);
  box-shadow: 0 0 20px #FF00FF;
  z-index: 10;
  animation: ouija-pulse 0.5s;
}

@keyframes ouija-pulse {
  0%, 100% {
    transform: scale(1.3);
  }
  50% {
    transform: scale(1.5);
  }
}

.ouija-answer {
  text-align: center;
  padding: 2rem;
  min-height: 4rem;
  font-size: clamp(18px, 2.5vmin, 28px);
  font-weight: bold;
}

/* 444: DEAD SIGNAL */
.dead-signal-container {
  position: relative;
  overflow: hidden;
}

.dead-signal-static {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 1px,
      rgba(255, 255, 255, 0.03) 1px,
      rgba(255, 255, 255, 0.03) 2px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 1px,
      rgba(255, 255, 255, 0.03) 1px,
      rgba(255, 255, 255, 0.03) 2px
    );
  animation: noise 0.1s infinite;
  pointer-events: none;
  z-index: 1;
}

.dead-signal-fragments {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;
}

.ghost-fragment {
  position: absolute;
  color: #00FFFF;
  font-size: clamp(12px, 1.5vmin, 18px);
  white-space: nowrap;
  animation: ghost-float 3s ease-in-out;
  text-shadow: 0 0 10px #00FFFF;
}

@keyframes ghost-float {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    transform: translateY(-20px) scale(0.8);
    opacity: 0;
  }
}

.dead-signal-message {
  position: relative;
  z-index: 3;
  text-align: center;
  padding: 2rem;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.dead-signal-bars {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin: 1rem 0;
}


/* ============================================
   CRASH MODE - Market Risk Alert System
   Activated by MCP Agent when HIGH RISK detected
   ============================================ */

body.crash-mode {
  animation: crash-flash 1s infinite;
}

body.crash-mode .teletext-container {
  animation: crash-shake 0.5s infinite;
  box-shadow: 
    0 0 60px rgba(255, 0, 0, 0.8),
    inset 0 0 120px rgba(255, 0, 0, 0.3);
}

body.crash-mode .teletext-header-row {
  background-color: #CC0000 !important;
  animation: crash-pulse 0.8s infinite;
}

body.crash-mode .teletext-fastext-footer {
  animation: crash-pulse 0.8s infinite;
}

@keyframes crash-flash {
  0%, 100% {
    background-color: #000000;
  }
  50% {
    background-color: #220000;
  }
}

@keyframes crash-shake {
  0%, 100% {
    transform: translate(0, 0);
  }
  10% {
    transform: translate(-2px, -1px);
  }
  20% {
    transform: translate(2px, 1px);
  }
  30% {
    transform: translate(-1px, 2px);
  }
  40% {
    transform: translate(1px, -2px);
  }
  50% {
    transform: translate(-2px, 1px);
  }
  60% {
    transform: translate(2px, -1px);
  }
  70% {
    transform: translate(-1px, -2px);
  }
  80% {
    transform: translate(1px, 2px);
  }
  90% {
    transform: translate(-2px, -1px);
  }
}

@keyframes crash-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

/* Crash mode warning text */
body.crash-mode .crash-warning {
  color: #FF0000 !important;
  text-shadow: 0 0 10px #FF0000;
  animation: crash-pulse 0.5s infinite;
}


/* ============================================
   SKELETON CREW: SYSADMIN MODE THEME
   Matrix-style green-on-black hacker terminal
   ============================================ */

/* SysAdmin Mode - Complete Theme Override */
body.sysadmin-mode {
  background-color: #000000;
  font-smoothing: antialiased;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Override all colors to green-on-black */
body.sysadmin-mode * {
  color: #00FF00 !important;
}

/* Container styling */
body.sysadmin-mode .teletext-container {
  border-color: #00FF00;
  box-shadow: 
    0 0 40px rgba(0, 255, 0, 0.5),
    inset 0 0 120px rgba(0, 50, 0, 0.9);
}

/* Header - Black with green text */
body.sysadmin-mode .teletext-header-row {
  background-color: #000000 !important;
  border-bottom: 2px solid #00FF00;
}

body.sysadmin-mode .teletext-header-left,
body.sysadmin-mode .teletext-header-center,
body.sysadmin-mode .teletext-header-right {
  color: #00FF00 !important;
  text-shadow: 0 0 5px #00FF00;
}

/* Fastext footer - All green */
body.sysadmin-mode .teletext-fastext-footer > div {
  background-color: #001100 !important;
  color: #00FF00 !important;
  border: 1px solid #00FF00;
  text-shadow: 0 0 3px #00FF00;
}

/* Scanlines - Green tint */
body.sysadmin-mode .crt-scanlines {
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 255, 0, 0.03),
    rgba(0, 255, 0, 0.03) 1px,
    transparent 1px,
    transparent 2px
  );
}

/* All text elements */
body.sysadmin-mode .text-white,
body.sysadmin-mode .text-yellow,
body.sysadmin-mode .text-cyan,
body.sysadmin-mode .text-red,
body.sysadmin-mode .text-blue,
body.sysadmin-mode .text-magenta {
  color: #00FF00 !important;
  text-shadow: 0 0 3px #00FF00;
}

/* Backgrounds - Dark green tint */
body.sysadmin-mode .bg-blue,
body.sysadmin-mode .bg-yellow,
body.sysadmin-mode .bg-cyan,
body.sysadmin-mode .bg-red {
  background-color: #001100 !important;
}

/* Borders - All green */
body.sysadmin-mode [style*="border"] {
  border-color: #00FF00 !important;
}

/* Links and interactive elements */
body.sysadmin-mode a,
body.sysadmin-mode button {
  color: #00FF00 !important;
  border-color: #00FF00 !important;
}

body.sysadmin-mode button {
  background-color: #001100 !important;
}

body.sysadmin-mode button:hover {
  background-color: #00FF00 !important;
  color: #000000 !important;
}

/* Input fields */
body.sysadmin-mode input,
body.sysadmin-mode textarea {
  background-color: #000000 !important;
  color: #00FF00 !important;
  border-color: #00FF00 !important;
}

body.sysadmin-mode input::placeholder {
  color: #00FF00 !important;
  opacity: 0.5;
}

/* Sharper, more terminal-like appearance */
body.sysadmin-mode {
  letter-spacing: 0.5px;
}

/* Matrix-style glow effect */
body.sysadmin-mode .teletext-main-content {
  text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);
}

/* Stronger scanline effect for terminal feel */
body.sysadmin-mode .crt-scanlines {
  opacity: 0.8;
}

/* Terminal cursor blink */
@keyframes terminal-cursor {
  0%, 49% {
    opacity: 1;
  }
  50%, 100% {
    opacity: 0;
  }
}

body.sysadmin-mode .cursor::after {
  content: 'â–ˆ';
  animation: terminal-cursor 1s infinite;
}

/* Status indicators - Green variants */
body.sysadmin-mode .teletext-alert-safe {
  background-color: #003300 !important;
  color: #00FF00 !important;
  border: 2px solid #00FF00;
}

body.sysadmin-mode .teletext-alert-warning {
  background-color: #002200 !important;
  color: #00FF00 !important;
  border: 2px solid #00FF00;
  animation: terminal-pulse 1s infinite;
}

body.sysadmin-mode .teletext-alert-critical {
  background-color: #001100 !important;
  color: #00FF00 !important;
  border: 2px solid #00FF00;
  animation: terminal-pulse 0.5s infinite;
}

@keyframes terminal-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

/* Override any remaining color styles */
body.sysadmin-mode [style*="color: #"] {
  color: #00FF00 !important;
}

body.sysadmin-mode [style*="background-color: #"]:not([style*="background-color: #000"]) {
  background-color: #001100 !important;
}

/* Glitch effects in sysadmin mode - green variant */
body.sysadmin-mode .glitch-text::before {
  text-shadow: -2px 0 #00FF00;
}

body.sysadmin-mode .glitch-text::after {
  text-shadow: -2px 0 #00FF00, 2px 2px #00FF00;
}

/* Zone blocks in sysadmin mode */
body.sysadmin-mode .zone-block {
  border-color: #00FF00 !important;
  background-color: #000000 !important;
}

body.sysadmin-mode .zone-block:hover {
  background-color: #001100 !important;
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
}

/* Restricted access indicator */
body.sysadmin-mode .zone-restricted {
  opacity: 0.3;
  pointer-events: none;
  position: relative;
}

body.sysadmin-mode .zone-restricted::after {
  content: 'ðŸ”’ RESTRICTED';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #00FF00;
  font-size: 1.2em;
  text-shadow: 0 0 10px #00FF00;
}

/* ============================================
   CRISIS MODE STYLES
   ============================================ */

body.crisis-mode {
  animation: crisis-pulse 2s infinite;
  border: 3px solid #ff0000;
}

@keyframes crisis-pulse {
  0%, 100% { 
    border-color: #ff0000;
    box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
  }
  50% { 
    border-color: #ff6666;
    box-shadow: 0 0 40px rgba(255, 0, 0, 0.8);
  }
}

body.crisis-mode .teletext-content {
  background-color: rgba(255, 0, 0, 0.1);
  border: 1px solid rgba(255, 0, 0, 0.3);
}

body.crisis-mode h1,
body.crisis-mode h2,
body.crisis-mode .text-cyan-400 {
  color: #ff4444 !important;
  text-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
}

body.crisis-mode button {
  background-color: #cc0000 !important;
  border-color: #ff0000 !important;
}

body.crisis-mode button:hover {
  background-color: #ff0000 !important;
}

/* Crisis alert banner */
body.crisis-mode::before {
  content: 'ðŸš¨ CRISIS MODE ACTIVE ðŸš¨';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: #ff0000;
  color: white;
  text-align: center;
  padding: 0.5rem;
  font-weight: bold;
  z-index: 9999;
  animation: crisis-flash 1s infinite;
}

@keyframes crisis-flash {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* ============================================
   QUIET MODE STYLES
   ============================================ */

body.quiet-mode {
  filter: brightness(0.7) saturate(0.6);
  transition: filter 2s ease;
}

body.quiet-mode .teletext-content {
  line-height: 1.8;
  letter-spacing: 0.05em;
  opacity: 0.9;
}

body.quiet-mode * {
  animation-duration: 2s !important; /* Slow down all animations */
}

body.quiet-mode h1,
body.quiet-mode h2 {
  font-weight: 300;
  opacity: 0.8;
}

body.quiet-mode button {
  opacity: 0.7;
  transition: all 0.5s ease;
}

body.quiet-mode button:hover {
  opacity: 1;
}

/* Quiet mode indicator */
body.quiet-mode::after {
  content: 'ðŸŒ™ quiet mode';
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  background: rgba(0, 0, 0, 0.7);
  color: rgba(255, 255, 255, 0.5);
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  font-size: 0.875rem;
  z-index: 9999;
}

/* Reduce motion in quiet mode */
body.quiet-mode .animate-pulse {
  animation: quiet-pulse 4s ease-in-out infinite;
}

@keyframes quiet-pulse {
  0%, 100% { opacity: 0.8; }
  50% { opacity: 0.6; }
}

/* Softer colors in quiet mode */
body.quiet-mode .text-red-500,
body.quiet-mode .text-red-400 {
  color: #ff9999 !important;
}

body.quiet-mode .text-cyan-400,
body.quiet-mode .text-cyan-500 {
  color: #88cccc !important;
}

body.quiet-mode .text-yellow-400 {
  color: #cccc88 !important;
}

body.quiet-mode .bg-red-900 {
  background-color: rgba(100, 0, 0, 0.3) !important;
}


/* ============================================
   STRICT TELETEXT LAYOUT ENFORCEMENT
   40 cols Ã— 24 rows - NO EXCEPTIONS
   ============================================ */

/* Force VT323 font globally */
* {
  font-family: 'VT323', monospace !important;
}

/* Strict grid dimensions */
.teletext-content {
  width: 100%;
  height: 100%;
  overflow: hidden !important; /* NO SCROLLING */
  display: block;
}

/* Hide any overflow */
.teletext-content > * {
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ============================================
   ZONE-SPECIFIC HEADER COLORS
   ============================================ */

/* Zone 100: TRUTH - Blue/Yellow (BBC) */
.zone-100-header {
  background-color: #0066CC !important;
  color: #FFFF00 !important;
}

/* Zone 200: SYSTEM - Gold/Black (Financial) */
.zone-200-header {
  background-color: #FFD700 !important;
  color: #000000 !important;
}

/* Zone 300: PULSE - Magenta/Cyan (Pop) */
.zone-300-header {
  background-color: #FF1493 !important;
  color: #00FFFF !important;
}

/* Zone 400: PLANET - Green/White (Nature) */
.zone-400-header {
  background-color: #00CC66 !important;
  color: #FFFFFF !important;
}

/* Zone 500: SHIELD - Red/Yellow (Alert) */
.zone-500-header {
  background-color: #CC0000 !important;
  color: #FFFF00 !important;
}

/* Zone 666: GLITCH - Dark Red/Glitching */
.zone-666-header {
  background-color: #660000 !important;
  color: #FF0000 !important;
}

/* Zone 800: HOME - Cyan/White */
.zone-800-header {
  background-color: #00CCCC !important;
  color: #FFFFFF !important;
}

/* Zone 900: THEMES - Grey/Cyan (System) */
.zone-900-header {
  background-color: #666666 !important;
  color: #00FFFF !important;
}

/* ============================================
   GLITCH MODE SPECIAL EFFECTS
   ============================================ */

.glitch-mode {
  animation: glitch-container 0.3s infinite;
  filter: hue-rotate(180deg) contrast(1.2);
}

.glitch-mode .teletext-header {
  animation: glitch-header 0.5s infinite;
}

.glitch-text {
  animation: glitch-shake 0.2s infinite;
  text-shadow: 
    2px 0 #FF0000,
    -2px 0 #00FFFF,
    0 2px #FF00FF;
}

@keyframes glitch-container {
  0%, 100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(-2px, 2px);
  }
  50% {
    transform: translate(2px, -2px);
  }
  75% {
    transform: translate(-2px, -2px);
  }
}

@keyframes glitch-header {
  0%, 100% {
    filter: hue-rotate(0deg);
  }
  50% {
    filter: hue-rotate(90deg);
  }
}

@keyframes glitch-shake {
  0%, 100% {
    transform: skew(0deg);
  }
  25% {
    transform: skew(-2deg);
  }
  50% {
    transform: skew(2deg);
  }
  75% {
    transform: skew(-1deg);
  }
}

/* ============================================
   TELETEXT CHARACTER BLOCKS
   Use * > â€¢ for bullets, not CSS bullets
   ============================================ */

.teletext-bullet {
  display: inline-block;
  width: 1ch;
  text-align: center;
}

.teletext-bullet::before {
  content: '*';
}

/* Block graphics for authentic look */
.block-full::before { content: 'â–ˆ'; }
.block-dark::before { content: 'â–“'; }
.block-medium::before { content: 'â–’'; }
.block-light::before { content: 'â–‘'; }

/* ============================================
   DOUBLE HEIGHT TEXT COMPONENT
   ============================================ */

.double-height {
  display: inline-block;
  transform: scaleY(2);
  transform-origin: top;
  line-height: 0.5;
  letter-spacing: -0.05em;
}

/* ============================================
   FASTEXT NAVIGATION BUTTONS
   ============================================ */

.fastext-button {
  cursor: pointer;
  user-select: none;
  transition: all 0.1s;
  font-weight: bold;
  text-transform: uppercase;
}

.fastext-button:hover {
  filter: brightness(1.2);
  transform: scale(1.02);
}

.fastext-button:active {
  filter: brightness(0.8);
  transform: scale(0.98);
}

/* ============================================
   PAGE CONTENT WRAPPERS
   Ensure all pages follow 40x24 grid
   ============================================ */

.teletext-page-wrapper {
  width: 100%;
  height: 100%;
  padding: 0.5rem 1rem;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

/* Title rows */
.teletext-page-title {
  font-size: clamp(20px, 3vmin, 32px);
  font-weight: bold;
  text-align: center;
  padding: 0.25rem 0;
  border-bottom: 2px solid currentColor;
}

/* Content rows */
.teletext-page-content {
  flex: 1;
  overflow: hidden;
  font-size: clamp(16px, 2.2vmin, 24px);
  line-height: 1.3;
}

/* Footer rows */
.teletext-page-footer {
  font-size: clamp(14px, 1.8vmin, 20px);
  text-align: center;
  padding: 0.25rem 0;
  border-top: 2px solid currentColor;
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   Maintain 40x24 grid at all sizes
   ============================================ */

@media (max-width: 768px) {
  .teletext-container {
    width: 100vw;
    height: 100vh;
    border: none;
  }
  
  .teletext-header {
    font-size: 1.2rem !important;
  }
  
  .teletext-fastext {
    font-size: 1rem !important;
  }
  
  .teletext-page-content {
    font-size: 1rem !important;
  }
}

/* ============================================
   ZONE-SPECIFIC CONTENT STYLING
   ============================================ */

/* Zone 300 (PULSE) - Gossip style with blocky structure */
.zone-300-content {
  color: #FF1493;
}

.zone-300-content .teletext-bullet::before {
  content: '>';
  color: #00FFFF;
}

/* Zone 666 (GLITCH) - Apply distortion to container, not content */
.zone-666-content {
  position: relative;
}

.zone-666-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(255, 0, 0, 0.1) 2px,
    rgba(255, 0, 0, 0.1) 4px
  );
  pointer-events: none;
  animation: noise 0.2s infinite;
}

/* ============================================
   ACCESSIBILITY IMPROVEMENTS
   ============================================ */

/* Focus indicators for keyboard navigation */
.fastext-button:focus,
button:focus,
a:focus {
  outline: 3px solid #FFFF00;
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .teletext-container {
    border-width: 6px;
  }
  
  .teletext-header,
  .teletext-fastext {
    border-width: 3px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .crt-scanlines {
    display: none;
  }
}

/* ============================================
   PRINT STYLES (for documentation)
   ============================================ */

@media print {
  .teletext-screen {
    background: white;
  }
  
  .teletext-container {
    border: 2px solid black;
    box-shadow: none;
  }
  
  .crt-scanlines {
    display: none;
  }
  
  .fastext-button {
    border: 1px solid black;
  }
}
